@startuml GestaoPesquisas

' Diagrama de classes inicial para o contexto "Gestao de Pesquisas"
' Arquivo gerado por GitHub Copilot

skinparam classAttributeIconSize 0

package "Digrama de Classes" {

  class Pesquisa <<Entity>> {
    - Id: Guid
    - Titulo: string
    - Descricao: string
    - Status: PesquisaStatus
    - Perguntas: List<Pergunta>
    - Gestor: Usuario
  }
  enum PesquisaStatus {
    Rascunho
    Ativa
    Concluida
    Cancelada
  }
  class Usuario <<Entity>> {
    - Id: Guid
    - Nome: string
    - Email: string
    - Perfil: PerfilUsuario
  }
  enum PerfilUsuario {
    Gestor
    Respondente
  }
  class Pergunta <<ValueObject>> {
    - Texto: string
    - Opcoes: List<String>
  }
  class Resposta <<Entity>> {
    - Id: Guid
    - Pesquisa: Pesquisa
    - Respondente: Usuario
    - Selecao: List<RespostaItem>
  }

  class RespostaItem <<ValueObject>> {
    - OpcaoSelecionada: string
  }
  class ResultadoSumarizado <<Entity>> {
    - Id: Guid
    - Pesquisa: Pesquisa
    - DataCriacao: DateTime
    - Tipo: TipoResultado
    - UsuariosLeitores: List<Usuario>
    - DadosConsolidados: string
  }

  enum TipoResultado {
    Parcial
    Final
  }

Usuario "1" o-- "0..*" Pesquisa : responsável por
Pesquisa "1" *-- "0..*" Pergunta : contém
Pesquisa "1" *-- "0..*" Resposta : possui
Resposta "1" *-- "0..*" RespostaItem : contém
Usuario "1" --> "1" Resposta : preenche
Pesquisa "1" -- "0..*" ResultadoSumarizado : possui histórico de

@enduml